# 功能清理计划

本文档用于规划和管理项目中的功能清理工作。

## 清理策略

### 阶段一：隐藏不需要的功能（推荐先做）

在确认不需要某个功能之前，先通过以下方式隐藏：

1. **路由层面隐藏** - 在 `App.tsx` 中注释掉不需要的路由
2. **菜单层面隐藏** - 在 `AppSidebar.tsx` 中注释掉不需要的菜单项
3. **保留代码** - 暂时不删除页面组件和相关代码

### 阶段二：功能确认（开发过程中）

在开发新功能的过程中，逐步确认：
- 哪些功能确实用不到
- 哪些组件可以被新组件替代
- 哪些依赖可以被移除

### 阶段三：代码清理（确认后执行）

在确认不需要某个功能后，再删除相关代码：
- 删除页面组件文件
- 删除路由配置
- 删除菜单配置
- 删除未使用的依赖
- 删除未使用的静态资源

## 功能清单

### 需要保留的功能

- [ ] Dashboard（仪表板）- 通常需要
- [ ] 用户认证（SignIn/SignUp）- 通常需要
- [ ] 404 页面 - 通常需要
- [ ] 布局组件（AppLayout, AppSidebar, AppHeader）- 核心功能
- [ ] 主题切换（暗色模式）- 通常需要
- [ ] 其他你需要保留的功能...

### 可能不需要的功能（需要确认）

#### 页面功能
- [ ] Calendar（日历）- 如果不需要日历功能，可以移除
- [ ] User Profile（用户资料）- 如果不需要，可以移除或替换
- [ ] Forms（表单元素示例页）- 如果只是示例，可以移除
- [ ] Tables（表格示例页）- 如果只是示例，可以移除
- [ ] Charts（图表）- 如果不需要图表，可以移除
  - [ ] Line Chart
  - [ ] Bar Chart
- [ ] UI Elements 示例页 - 如果只是示例，可以移除
  - [ ] Alerts
  - [ ] Avatars
  - [ ] Badges
  - [ ] Buttons
  - [ ] Images
  - [ ] Videos
- [ ] Blank Page - 如果不需要，可以移除

#### 组件
- [ ] Ecommerce 组件 - 如果不需要电商功能，可以移除
- [ ] Calendar 相关组件 - 如果不需要日历功能，可以移除
- [ ] Charts 相关组件 - 如果不需要图表，可以移除
- [ ] 其他示例组件...

#### 静态资源
- [ ] 示例图片（brand, cards, carousel, product, user 等）
- [ ] 示例图标
- [ ] 其他演示用的静态资源...

#### 依赖包
- [ ] @fullcalendar/* - 如果不需要日历功能
- [ ] apexcharts, react-apexcharts - 如果不需要图表
- [ ] @react-jvectormap/* - 如果不需要地图
- [ ] react-dnd, react-dnd-html5-backend - 如果不需要拖拽功能
- [ ] swiper - 如果不需要轮播图
- [ ] react-dropzone - 如果不需要文件上传
- [ ] 其他未使用的依赖...

## 清理步骤

### 步骤 1：创建功能清单

1. 列出你的业务需求
2. 对照项目功能，标记需要保留的功能
3. 标记可能不需要的功能（待确认）

### 步骤 2：隐藏不需要的功能（第一阶段）

1. 修改 `src/App.tsx`，注释掉不需要的路由
2. 修改 `src/layout/AppSidebar.tsx`，注释掉不需要的菜单项
3. 测试项目，确保没有破坏现有功能

### 步骤 3：开发新功能

1. 基于保留的功能进行开发
2. 在开发过程中，记录哪些功能确实用不到
3. 记录哪些组件可以被新组件替代

### 步骤 4：清理代码（第二阶段）

在确认不需要某个功能后：

1. **删除页面组件**
   ```bash
   # 示例：删除日历页面
   rm -rf src/pages/Calendar.tsx
   ```

2. **删除路由配置**
   - 从 `App.tsx` 中删除路由
   - 删除相关的 import

3. **删除菜单配置**
   - 从 `AppSidebar.tsx` 中删除菜单项

4. **删除组件**
   - 删除不需要的组件文件
   - 检查是否有其他地方引用

5. **删除静态资源**
   - 删除 `public/images/` 中不需要的图片
   - 删除不需要的图标

6. **清理依赖**
   - 运行 `npm uninstall <package-name>` 删除不需要的依赖
   - 检查 `package.json` 中的依赖

7. **清理未使用的代码**
   - 使用工具检查未使用的代码
   - 删除未使用的工具函数
   - 删除未使用的类型定义

### 步骤 5：验证和测试

1. 运行项目，确保没有错误
2. 测试所有保留的功能
3. 检查构建是否成功
4. 检查打包体积是否减小

## 注意事项

1. **不要一次性删除大量代码** - 分批次删除，每删除一批就测试一次
2. **保留 Git 历史** - 在删除前提交代码，方便回滚
3. **检查依赖关系** - 确保删除的代码没有被其他地方引用
4. **保留核心功能** - 布局、路由、主题等核心功能通常需要保留
5. **保留可复用组件** - UI 组件（Button, Input 等）即使页面删除了，组件本身可能还有用

## 清理检查清单

在删除代码前，检查以下事项：

- [ ] 确认功能确实不需要
- [ ] 检查是否有其他地方引用
- [ ] 检查路由配置
- [ ] 检查菜单配置
- [ ] 检查依赖关系
- [ ] 提交当前代码到 Git
- [ ] 删除代码
- [ ] 运行测试
- [ ] 检查构建是否成功
- [ ] 更新文档

## 示例：隐藏日历功能

### 1. 注释掉路由（App.tsx）

```typescript
// <Route path="/calendar" element={<Calendar />} />
```

### 2. 注释掉菜单项（AppSidebar.tsx）

```typescript
// {
//   icon: <CalenderIcon />,
//   name: "Calendar",
//   path: "/calendar",
// },
```

### 3. 测试项目

确保项目可以正常运行，没有错误。

### 4. 确认后删除（如果需要）

```bash
# 删除页面组件
rm src/pages/Calendar.tsx

# 删除路由 import
# 从 App.tsx 中删除 import Calendar from "./pages/Calendar";

# 删除依赖（如果确认不需要）
npm uninstall @fullcalendar/core @fullcalendar/daygrid @fullcalendar/interaction @fullcalendar/list @fullcalendar/react @fullcalendar/timegrid
```

## 参考

- [二次开发流程指南](./二次开发流程指南.md)
- [Git仓库初始化指南](./Git仓库初始化指南.md)

---

**最后更新**: 2025年1月
**文档版本**: 1.0.0

